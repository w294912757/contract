create table customer(id varchar(40) not null,name varchar(40) not null,address varchar(400) not null,tel varchar(20) not null,fax varchar(20),code varchar(10),bank varchar(50),account varchar(50),primary key(id));
create table user(name varchar(40) not null,password varchar(20) not null,primary key(name));
create table contract(id varchar(40) not null,name varchar(40) not null,uname varchar(40),customer varchar(40),content text not null,beginTime date,endTime date,primary key(id),foreign key(uname) references user(name));
create table contract_attachment(id varchar(40) not null,fileName varchar(100) not null,path varchar(100) not null,type varchar(20) not null,uploadTime timestamp,con_id varchar(40) not null,primary key(id,con_id),foreign key(con_id) references contract(id));
create table contract_state(id varchar(40) not null,type integer not null,time timestamp not null,primary key(id),foreign key(id) references contract(id));
create table role(name varchar(40) not null,description varchar(100) not null,functions varchar(500),contract_draft boolean not null,contract_confirm boolean not null,contract_query boolean not null,contract_delete boolean not null,process_contersign boolean not null,process_approve boolean not null,process_sign boolean not null,process_distribute_contersign boolean not null,process_distribute_approve boolean not null,process_distribute_sign boolean not null,process_query boolean not null,user_insert boolean not null,user_alter boolean not null,user_query boolean not null,user_delete boolean not null,role_insert boolean not null,role_alter boolean not null,role_query boolean not null,role_delete boolean not null,authority_distribute boolean not null,customer_insert boolean not null,customer_alter boolean not null,customer_query boolean not null,customer_delete boolean not null,primary key(name));
create table privilege(rname varchar(40) not null,uname varchar(40) not null,description varchar(100) not null,primary key(rname,uname),foreign key(rname) references role(name),foreign key(uname) references user(name));
create table contract_process(con_id varchar(40) not null,uname varchar(40) not null,type integer not null,state integer not null,content text not null,time timestamp,primary key(con_id,uname),foreign key(con_id) references contract(id),foreign key(uname) references user(name));

//仅用于本地建表与调试